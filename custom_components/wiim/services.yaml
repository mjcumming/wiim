diagnose_entities:
  name: Diagnose WiiM Entities
  description: Analyze all WiiM entities and coordinators to identify potential issues
  target:
    entity:
      domain: media_player
      integration: wiim

cleanup_stale_entities:
  name: Clean Up Stale Entities
  description: Remove stale WiiM entities from Home Assistant (use dry_run=false to actually remove)
  target:
    entity:
      domain: media_player
      integration: wiim
  fields:
    dry_run:
      name: Dry Run
      description: If true, only show what would be removed without actually removing anything
      required: false
      default: true
      selector:
        boolean:

auto_maintain:
  name: Auto Maintenance
  description: Run comprehensive maintenance including diagnostics and optional cleanup
  target:
    entity:
      domain: media_player
      integration: wiim
  fields:
    auto_cleanup:
      name: Auto Cleanup
      description: Automatically clean up stale entities after diagnosis
      required: false
      default: false
      selector:
        boolean:
    dry_run:
      name: Dry Run
      description: If true, only show what would be removed without actually removing anything
      required: false
      default: true
      selector:
        boolean:

play_preset:
  name: Play Preset
  description: Play a specific preset (1-6)
  target:
    entity:
      domain: media_player
      integration: wiim
  fields:
    preset:
      name: Preset Number
      description: Preset number to play (1-6)
      required: true
      selector:
        number:
          min: 1
          max: 6

toggle_power:
  name: Toggle Power
  description: Toggle device power on/off
  target:
    entity:
      domain: media_player
      integration: wiim

play_url:
  name: Play URL
  description: Play media from a URL
  target:
    entity:
      domain: media_player
      integration: wiim
  fields:
    url:
      name: URL
      description: URL of the media to play
      required: true
      selector:
        text:

play_playlist:
  name: Play Playlist
  description: Play an M3U playlist
  target:
    entity:
      domain: media_player
      integration: wiim
  fields:
    playlist_url:
      name: Playlist URL
      description: URL of the M3U playlist
      required: true
      selector:
        text:

set_eq:
  name: Set EQ
  description: Set equalizer preset or custom values
  target:
    entity:
      domain: media_player
      integration: wiim
  fields:
    preset:
      name: EQ Preset
      description: EQ preset name
      required: true
      selector:
        select:
          options:
            - "flat"
            - "classical"
            - "jazz"
            - "vocal"
            - "pop"
            - "rock"
            - "dance"
            - "country"
            - "blues"
            - "custom"
    custom_values:
      name: Custom EQ Values
      description: Custom EQ values (required when preset is 'custom')
      required: false
      selector:
        object:

play_notification:
  name: Play Notification
  description: Play a notification sound
  target:
    entity:
      domain: media_player
      integration: wiim
  fields:
    url:
      name: Notification URL
      description: URL of the notification sound
      required: true
      selector:
        text:

reboot_device:
  name: Reboot Device
  description: Reboot the WiiM device
  target:
    entity:
      domain: media_player
      integration: wiim

sync_time:
  name: Sync Time
  description: Synchronize device time with Home Assistant
  target:
    entity:
      domain: media_player
      integration: wiim

create_group:
  name: Create Group (Advanced)
  description: Create a new multiroom group with specified members (Advanced users - consider using HA's native JOIN button instead)
  target:
    entity:
      domain: media_player
      integration: wiim
  fields:
    group_members:
      name: Group Members
      description: List of entity IDs to include in the group
      required: true
      selector:
        entity:
          multiple: true
          domain: media_player

add_to_group:
  name: Add to Group (Advanced)
  description: Add another device to this device's group (Advanced users - consider using HA's native JOIN button instead)
  target:
    entity:
      domain: media_player
      integration: wiim
  fields:
    target_entity:
      name: Target Entity
      description: Entity ID of the device to add to the group
      required: true
      selector:
        entity:
          domain: media_player

remove_from_group:
  name: Remove from Group (Advanced)
  description: Remove a device from this device's group (Advanced users - consider using HA's native grouping UI instead)
  target:
    entity:
      domain: media_player
      integration: wiim
  fields:
    target_entity:
      name: Target Entity
      description: Entity ID of the device to remove from the group
      required: true
      selector:
        entity:
          domain: media_player

disband_group:
  name: Disband Group (Advanced)
  description: Disband the entire multiroom group (Advanced users - consider using HA's native grouping UI instead)
  target:
    entity:
      domain: media_player
      integration: wiim
